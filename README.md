# DataMappingProblem

### Ситуация 
Существует заранее предопределенный класс данных. Существует множество внешних систем, которые предоставляют данные, по смыслу аналогичные нашему классу. Формат предоставления данных от внешних систем - файл xml, не имеющий единой структуры для различных внешних систем (при этом структура наборов данных внутри одного файла строго определена). Преобразование данных из структур внешних систем в наш формат осуществляеся с помощью системы контрактов, представляющих собой json файлы, хранящие массив правил преобразования (в общем случае правило соответствия "название внешнего поля -> название нашего поля" и "значение внешнего поля -> значение нашего поля"). Для каждой внешней системы определен свой контракт преобразования. Существует механизм импорта, принимающий от внешних систем их файлы с данными, преобразующий данные в соответствии с контрактом и сохраняющий их.

![Import scheme sample](https://github.com/vladimir-buravlev/DataMappingProblem/blob/master/ImportScheme.png)


### Проблема 
При добавлении новой внешней системы нужно создавать вручную контракт. При этом нет никакой заранее предсказуемой логики формата xml от внешней системы - значимые для нас данные могут храниться в именах элементов, значениях и даже атрибутах. Оператору приходится вручную исследовать xml файл, подбирать соответствия и прописывать правила.

### Задача 
Нужно создать веб-приложение, помогающее оператору в создании контракта.
Предполагаемый сценарий работы оператора:
1. Оператор загружает файл xml, содержащий данные от внешней системы (для простоты - открывает заранее подготовленный локальный файл). Приложение анализирует файл на наличие структур данных, выделяет имена элементов, атрибуты и значения; формируется список вариантов выбора для оператора.
2. Оператор указывает соответствие названия полей нашей системы и внешней системы, используя список вариантов предыдущего шага. У некоторых полей может быть фиксированный набор значений (словарь), для них нужно дополнительно указывать соответствие значений нашей и внешней системы.
3. Приняв решение о завершенности предыдущего шага оператор нажимает кнопку сохранения. Приложение формирует файл контракта и сохраняет его на сервере.

В качестве наглядного пособия подготовлен класс с данными и несколько xml-примеров возможных внешних данных.
